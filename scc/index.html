<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ipp后端开发说明 | 开发手册</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="mc-ui 网站快速成型工具">
    
    <link rel="preload" href="/assets/css/0.styles.3b597ec1.css" as="style"><link rel="preload" href="/assets/js/app.b5e1aa48.js" as="script"><link rel="preload" href="/assets/js/3.a7b0917f.js" as="script"><link rel="preload" href="/assets/js/2.67602196.js" as="script"><link rel="preload" href="/assets/js/24.929bbbf5.js" as="script"><link rel="prefetch" href="/assets/js/10.ea43ef45.js"><link rel="prefetch" href="/assets/js/11.81b46b00.js"><link rel="prefetch" href="/assets/js/12.b26e1e83.js"><link rel="prefetch" href="/assets/js/13.24288081.js"><link rel="prefetch" href="/assets/js/14.db51a2f0.js"><link rel="prefetch" href="/assets/js/15.4e434ef7.js"><link rel="prefetch" href="/assets/js/16.b0e7b5f0.js"><link rel="prefetch" href="/assets/js/17.393ef4a6.js"><link rel="prefetch" href="/assets/js/18.8885a7e6.js"><link rel="prefetch" href="/assets/js/19.64a01ff0.js"><link rel="prefetch" href="/assets/js/20.085f09ed.js"><link rel="prefetch" href="/assets/js/21.980535b1.js"><link rel="prefetch" href="/assets/js/22.7ae8c881.js"><link rel="prefetch" href="/assets/js/23.c1bdf7b9.js"><link rel="prefetch" href="/assets/js/4.fbd6a706.js"><link rel="prefetch" href="/assets/js/5.843f7da0.js"><link rel="prefetch" href="/assets/js/6.6a87126e.js"><link rel="prefetch" href="/assets/js/7.16874472.js"><link rel="prefetch" href="/assets/js/8.3b41ead6.js"><link rel="prefetch" href="/assets/js/9.9a403b68.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3b597ec1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><main><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">开发手册</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/scc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ipp后端开发说明
</a></div><div class="nav-item"><a href="/ht-ui/" class="nav-link">
  使用文档
</a></div><div class="nav-item"><a href="/ht-faq/" class="nav-link">
  FAQ
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/scc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ipp后端开发说明
</a></div><div class="nav-item"><a href="/ht-ui/" class="nav-link">
  使用文档
</a></div><div class="nav-item"><a href="/ht-faq/" class="nav-link">
  FAQ
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ipp后端开发说明"><a href="#ipp后端开发说明" class="header-anchor">#</a> ipp后端开发说明</h1> <h2 id="准备工作"><a href="#准备工作" class="header-anchor">#</a> 准备工作</h2> <p>1、项目地址</p> <p>后端项目地址<a href="https://codeup.aliyun.com/shwxdyjs/biz/scc/ipp.git" target="_blank" rel="noopener noreferrer">https://codeup.aliyun.com/shwxdyjs/biz/scc/ipp.git<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>前端项目地址 <a href="https://codeup.aliyun.com/shwxdyjs/biz/scc/scc-ui.git" target="_blank" rel="noopener noreferrer">https://codeup.aliyun.com/shwxdyjs/biz/scc/scc-ui.git<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>;</p> <p>2、需要申请个人阿里云账号，然后访问</p> <p>（<a href="https://account-devops.aliyun.com/account/invite?sign=bd4958440da218690896ef00768d5d0d" target="_blank" rel="noopener noreferrer">https://account-devops.aliyun.com/account/invite?sign=bd4958440da218690896ef00768d5d0d<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）申请项目拉取权限 ;</p> <p>3、需要安装git (代码同步),idea和vscode或其他项目开发工具,jdk1.8 版本.</p> <p>4、环境配置</p> <div class="language- extra-class"><pre><code>  (a)配置maven 配置附件中提供的maven setting.xml
  (b)配置虚拟局域网 
  (c)项目配置  通过git拉取代码之后,打开项目路径下的resources/bootstrap.yml文件.
    a.将其中的spring.application.name 改成已经配置好的服务名称,如biz-ipp-bfl;
    b.将cloud.nacos.discovery.ip 改成自己ZeroTier中Managed Addresses中的值,如10.241.9.38
      修改好以上配置后.既可启动项目正常访问
</code></pre></div><h2 id="项目说明"><a href="#项目说明" class="header-anchor">#</a> 项目说明</h2> <p>1、<a href="http://10.241.5.216:32675/" target="_blank" rel="noopener noreferrer">http://10.241.5.216:32675/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 测试环境访问地址 账号/密码 (需方系统管理员xtgly805 业务主管ywzg805 采购员cgy805  密码1qaz!QAZ)</p> <p>2、后端项目中需要获取当前用户的方法</p> <div class="language- extra-class"><pre><code>(a)继承com.lightjet.macross.base.assist.controller.BasePrincipalController

(b)具体的方法中 @ModelAttribute(&quot;CurrentUser&quot;) AuthUser user 作为参数,既可获取到当前登录用户的AuthUser对象信息,然后根据方法Userinfo u = userService.getUser(user)
    可以获取到ipp对应的表中user的具体信息.然后根据不同的业务取不同的字段值.
</code></pre></div><p>3、代码规范</p> <div class="language- extra-class"><pre><code>(a)实体类中 @column(name=&quot;XXX&quot;)的，XXX和保持数据库一致；bean中的java字段名字统一驼峰命名,如fromType;

(b)代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束;

(c)代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式;

(d)方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格,遵从驼峰形式.类名使用 UpperCamelCase 风格，但以下情形例外: DO/BO/DTO/VO/AO/PO/UID 等,如UserDTO;

(e)常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚,如SCC_IPP;

(f)各层命名规范:
</code></pre></div><p>A) Service/DAO 层方法命名规约</p> <ol><li><p>获取对象的方法用findBy做前缀;</p></li> <li><p>获取统计值的方法用 count 做前缀;</p></li> <li><p>插入的方法用saveBy做前缀;</p></li> <li><p>删除的方法用deleteBy做前缀;</p></li> <li><p>修改的方法用updateBy做前缀。</p></li></ol> <p>(g)类成员与方法访问控制从严:</p> <ol><li><p>如果不允许外部直接通过 new 来创建对象，那么构造方法必须是 private;</p></li> <li><p>工具类不允许有 public 或 default 构造方法;</p></li> <li><p>类非 static 成员变量并且与子类共享，必须是 protected;</p></li> <li><p>类非 static 成员变量并且仅在本类使用，必须是 private;</p></li> <li><p>类 static 成员变量如果仅在本类使用，必须是 private;</p></li> <li><p>若是 static 成员变量，考虑是否为 final;</p></li> <li><p>类成员方法只供类内部调用，必须是 private;</p></li> <li><p>类成员方法只对继承类公开，那么限制为 protected。</p></li></ol> <p>说明: 任何类、方法、参数、变量，严控访问范围。过于宽泛的访问范围，不利于模块解耦。</p> <p>(h)注释规范</p> <p>1)所有的抽象方法(包括接口中的方法)必须要用 Javadoc 注释(/<strong>内容</strong>/)、除了返回值、参数、 异常说明外，还必须指出该方法做什么事情，实现什么功能;</p> <p>2)所有的枚举类型字段必须要有注释，说明每个数据项的用途;</p> <p>3)所有的类都必须添加创建者和创建日期。</p> <p>(i)事务规范</p> <p>1)数据变更类操作务必增加事务控制;</p> <p>2)事务注解增加 rollbackFor = Exception.class ，避免抛出受检异常，事务不回滚;</p> <p>3)避免大事务（如避免事务中处理过多数据、执行不必要的查询、执行耗时的操作），原则是能不放在事务中处理的操作就不放在事务中。</p> <p>(g)推荐
代码方法设计不能超过80行,代码类设计不能超过800行，超过需要另行考虑是否满足设计模式中的单一职责，特殊情况需进行代码评审。</p> <p>从代码可维护性方面来说，良好的语义化代码有利于后期的迭代，方法太长很难读懂，逻辑比较乱，尤其是工作交接后，交接人短暂时间内不是特别熟悉的情况下，</p> <p>维护期间非常容易产生BUG，导致换个人之后基本是重写一遍，开发成本变高。</p> <p>后续项目进行服务拆分，尽可能的减少新开发功能对已有功能的影响范围，需要将现有服务提供的功能进行细化，拆分出新的独立的服务，前提是已有的代码尽可能的简单，便于功能拆解，
之后按照功能维度进行组合，将相关一组的功能涉及到的类进行整理，完成服务拆分。</p> <h2 id="逻辑复用"><a href="#逻辑复用" class="header-anchor">#</a> 逻辑复用</h2> <p>1、工具类和频繁使用的代码,可提取至工具类中.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div></main><div class="global-ui"></div></div>
    <script src="/assets/js/app.b5e1aa48.js" defer></script><script src="/assets/js/3.a7b0917f.js" defer></script><script src="/assets/js/2.67602196.js" defer></script><script src="/assets/js/24.929bbbf5.js" defer></script>
  </body>
</html>
